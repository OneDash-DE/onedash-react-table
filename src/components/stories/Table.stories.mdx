import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";
import Table from "../Table";
import Column from "../Column";
import Row from "../Row";
import Cell from "../Cell";
import generateFakeData from "./DataGenerator";
import "./style.sass";
import "./table.sass";

export const rows = generateFakeData(20);

<Meta title="Components/Table" component={Table} />

# Table

## Basic

```jsx
<Table>
	<Column name="name.first" label="Vorname" />
	<Column name="name.last" label="Nachname" />
	<Column name="age" label="Alter" />
	<Column name="address" label="Adresse" />
	{rows.map((row, i) => (
		<Row key={i} row={row}>
			<Cell name="name.first" />
			<Cell name="name.last" />
			<Cell name="age" />
			<Cell name="address" />
		</Row>
	))}
</Table>
```

<Canvas>
	<Story name="Basic" args={{}}>
		{(args) => (
			<Table {...args}>
				<Column name="name.first" label="Vorname" />
				<Column name="name.last" label="Nachname" />
				<Column name="age" label="Alter" />
				<Column name="address" label="Adresse" />
				{rows.map((row, i) => (
					<Row key={i} row={row}>
						<Cell name="name.first" />
						<Cell name="name.last" />
						<Cell name="age" />
						<Cell name="address" />
					</Row>
				))}
			</Table>
		)}
	</Story>
</Canvas>

## Order by

```jsx
<Table>
	<Column name="name.first" label="Vorname" />
	<Column name="name.last" label="Nachname" />
	<Column name="age" label="Alter" />
	<Column name="address" label="Adresse" />
	{rows.map((row, i) => (
		<Row key={i} row={row}>
			<Cell name="name.first" />
			<Cell name="name.last" />
			<Cell name="age" />
			<Cell name="address" />
		</Row>
	))}
</Table>
```

<Canvas>
	<Story name="Order by" args={{}}>
		{(args) => (
			<Table {...args}>
				<Column name="name.first" label="Vorname" sortable />
				<Column name="name.last" label="Nachname" />
				<Column name="age" label="Alter" sortable />
				<Column name="address" label="Adresse" />
				{rows.map((row, i) => (
					<Row key={i} row={row}>
						<Cell name="name.first" />
						<Cell name="name.last" />
						<Cell name="age" />
						<Cell name="address" />
					</Row>
				))}
			</Table>
		)}
	</Story>
</Canvas>

## Row icon

```jsx
<Table rightIcon={<span className="right-chevron"></span>}>
	<Column name="name.first" label="Vorname" />
	<Column name="name.last" label="Nachname" />
	<Column name="age" label="Alter" />
	<Column name="address" label="Adresse" />
	{rows.map((row, i) => (
		<Row key={i} row={row}>
			<Cell name="name.first" />
			<Cell name="name.last" />
			<Cell name="age" />
			<Cell name="address" />
		</Row>
	))}
</Table>
```

<Canvas>
	<Story
		name="Row Icon"
		args={{
			rightIcon: <span className="right-chevron"></span>
		}}>
		{(args) => (
			<Table {...args}>
				<Column name="name.first" label="Vorname" />
				<Column name="name.last" label="Nachname" />
				<Column name="age" label="Alter" />
				<Column name="address" label="Adresse" />
				{rows.map((row, i) => (
					<Row key={i} row={row}>
						<Cell name="name.first" />
						<Cell name="name.last" />
						<Cell name="age" />
						<Cell name="address" />
					</Row>
				))}
			</Table>
		)}
	</Story>
</Canvas>

## Formatting Function

This example multiplies the age of a person by 10 and renames all persons to John.

```jsx
<Table>
	<Column name="name.first" label="Vorname" />
	<Column name="name.last" label="Nachname" />
	<Column name="age" label="Alter" />
	<Column name="address" label="Adresse" />
	{rows.map((row, i) => (
		<Row key={i} row={row}>
			<Cell name="name.first">John</Cell>
			<Cell name="name.last" />
			<Cell name="age">{(age) => age * 10}</Cell>
			<Cell name="address">
				<button>Button</button>
			</Cell>
		</Row>
	))}
</Table>
```

<Canvas>
	<Story name="Formatting Function" args={{}}>
		{(args) => (
			<Table {...args}>
				<Column name="name.first" label="Vorname" />
				<Column name="name.last" label="Nachname" />
				<Column name="age" label="Alter" />
				<Column name="address" label="Adresse" />
				{rows.map((row, i) => (
					<Row key={i} row={row}>
						<Cell name="name.first">John</Cell>
						<Cell name="name.last" />
						<Cell name="age">{(age) => age * 10}</Cell>
						<Cell name="address">
							<button>Button</button>
						</Cell>
					</Row>
				))}
			</Table>
		)}
	</Story>
</Canvas>

## Searchstring

```jsx
<Table searchString="<INPUT VALUE>">
	<Column name="name.first" label="Vorname" />
	<Column name="name.last" label="Nachname" />
	<Column name="age" label="Alter" />
	<Column name="address" label="Adresse" />
	{rows.map((row, i) => (
		<Row key={i} row={row}>
			<Cell name="name.first" />
			<Cell name="name.last" />
			<Cell name="age" />
			<Cell name="address" />
		</Row>
	))}
</Table>
```

<Canvas>
	<Story
		name="Searchstring"
		args={{
			select: "click",
			rows,
			searchString: rows[0].name.first,
			selectedRows: [1, 2]
		}}>
		{(args) => (
			<Table {...args}>
				<Column name="name.first" label="Vorname" sortable />
				<Column name="name.last" label="Nachname" />
				<Column name="age" label="Alter" sortable />
				<Column name="address" label="Adresse" />
				{rows.map((row, i) => (
					<Row key={i} row={row}>
						<Cell name="name.first" />
						<Cell name="name.last" />
						<Cell name="age" />
						<Cell name="address" />
					</Row>
				))}
			</Table>
		)}
	</Story>
</Canvas>

## CSS Class customizing

```jsx
<Table className="table-className">
	<Column name="name.first" label="Vorname" />
	<Column name="name.last" label="Nachname" />
	<Column name="age" label="Alter" className="special" />
	<Column name="address" label="Adresse" />
	{rows.map((row, i) => (
		<Row key={i} row={row} className={i === 3 ? "special" : ""}>
			<Cell name="name.first" className={i === 5 ? "special" : ""} />
			<Cell name="name.last" />
			<Cell name="age" />
			<Cell name="address" />
		</Row>
	))}
</Table>
```

<Canvas>
	<Story
		name="CSS class customizing"
		args={{
			className: "table-className"
		}}>
		{(args) => (
			<Table {...args}>
				<Column name="name.first" label="Vorname" />
				<Column name="name.last" label="Nachname" />
				<Column name="age" label="Alter" className="special" />
				<Column name="address" label="Adresse" />
				{rows.map((row, i) => (
					<Row key={i} row={row} className={i === 3 ? "special" : ""}>
						<Cell name="name.first" className={i === 5 ? "special" : ""} />
						<Cell name="name.last" />
						<Cell name="age" />
						<Cell name="address" />
					</Row>
				))}
			</Table>
		)}
	</Story>
</Canvas>

## Select Rows

It' possible to select rows either by click on one, or by selecting multiple rows. Moreover, with selectedRows property you can provide preselected rows.

```jsx
<Table select="multi" selectedRows={[3, 5]}>
	<Column name="name.first" label="Vorname" />
	<Column name="name.last" label="Nachname" />
	<Column name="age" label="Alter" />
	<Column name="address" label="Adresse" />
	{rows.map((row, i) => (
		<Row key={i} row={row}>
			<Cell name="name.first" />
			<Cell name="name.last" />
			<Cell name="age" />
			<Cell name="address" />
		</Row>
	))}
</Table>
```

<Canvas>
	<Story name="Select Rows" args={{ select: "multi", selectedRows: [3, 5] }}>
		{(args) => (
			<Table {...args}>
				<Column sortable name="name.first" label="Vorname" />
				<Column name="name.last" label="Nachname" />
				<Column name="age" label="Alter" />
				<Column name="address" label="Adresse" />
				{rows.map((row, i) => (
					<Row key={i} row={row}>
						<Cell name="name.first" />
						<Cell name="name.last" />
						<Cell name="age" />
						<Cell name="address" />
					</Row>
				))}
			</Table>
		)}
	</Story>
</Canvas>
